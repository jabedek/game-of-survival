<div
  class="field-container"
  [style.width.px]="fieldSize"
  [style.height.px]="fieldSize"
  (mousedown)="toggleSelf()"
  (contextmenu)="addBroodOnContextmenu($event)"
>
  <div class="field" *ngIf="selfDetails$ | async as data; else loading">
    <div class="field__content" *ngIf="data?.blocked">
      <ng-container
        *ngIf="data?.occupyingUnit; then particleUnit; else obsticleUnit"
      >
      </ng-container>

      <ng-container *ngIf="displayDetails">
        {{ data?.blocked }}
      </ng-container>
    </div>
  </div>

  <ng-template #loading>...</ng-template>

  <ng-template #particleUnit let-item>
    <div [style.width.px]="CSSsize" [style.height.px]="CSSsize">
      <!-- <p class="particle particle--test"></p> -->
      <p class="particle {{ 'particle--' + item.color }}"></p>
    </div>
  </ng-template>

  <ng-template #obsticleUnit let-item>
    <div
      class="obsticle"
      [style.width.px]="CSSsize"
      [style.height.px]="CSSsize"
    ></div>
  </ng-template>
</div>
