<div
  class="field-container"
  [style.width.px]="fieldSize"
  [style.height.px]="fieldSize"
  (mousedown)="toggleSelf()"
  (contextmenu)="addBrood($event)"
>
  <div class="field" *ngIf="selfDetails$ | async as data; else loading">
    <div class="field__content">
      <app-particle
        *ngIf="data?.occupyingUnit && pos"
        [fieldPos]="{ row: pos.row, column: pos.column }"
        [particleUnit]="data?.occupyingUnit"
        [isColor]="'blue'"
      >
      </app-particle>

      <app-obsticle
        *ngIf="data?.blocked === true && !data?.occupyingUnit"
        [fieldPos]="{ row: pos.row, column: pos.column }"
        [row]="pos.column"
        [column]="pos.row"
      >
      </app-obsticle>

      <ng-container *ngIf="displayDetails">
        {{ data?.blocked }}
      </ng-container>
    </div>
  </div>

  <ng-template #loading>...</ng-template>
</div>
